script:
  - kotlin:
      applyDefaultHierarchyTemplate: |
        {
          common {
            group("jvmAndroid") {
              withJvm()
              withAndroidTarget()
            }
            group("jvmAndroidIos") {
              group("jvmAndroid")
              group("ios") {
                withIos()
              }
            }
            group("jvmIosWeb") {
              withJvm()
              group("ios") {
                withIos()
              }
              group("web")
            }
            group("jvmWeb") {
              withJvm()
              group("web")
            }
            group("androidIos") {
              withAndroidTarget()
              group("ios") {
                withIos()
              }
            }
            group("androidIosWeb") {
              group("androidIos")
              group("web")
            }
            group("androidNative32") {
              withAndroidNativeArm32()
              withAndroidNativeX86()
            }
            group("androidNative64") {
              withAndroidNativeX64()
              withAndroidNativeArm64()
            }
            group("apple32") {
              group("watchos32") {
                withWatchosArm32()
                withWatchosArm64()  // NB watchosArm64 is weird target w/ 32-bit numbers.
              }
            }
            group("apple64") {
              group("ios") {
                withIos()
              }
              group("macos") {
                withMacos()
              }
              group("tvos") {
                withTvos()
              }
              group("watchos64") {
                withWatchosX64()
                withWatchosDeviceArm64()
                withWatchosSimulatorArm64()
              }
            }
            group("jvmAndroidWeb") {
              group("jvmAndroid")
              group("web")
            }
            group("nix") {
              group("linux") {
                withLinux()
              }
              group("apple") {
                withApple()
              }
              group("androidNative") {
                withAndroidNative()
              }
            }
            group("posix") {
              group("mingw") {
                withMingw()
              }
              group("nix")
            }
            group("nativeNonApple") {
              group("androidNative") {
                withAndroidNative()
              }
              group("mingw") {
                withMingw()
              }
              group("linux") {
                withLinux()
              }
            }
            group("nativeNonAndroid") {
              group("apple") {
                withApple()
              }
              group("mingw") {
                withMingw()
              }
              group("linux") {
                withLinux()
              }
            }
            group("desktop") {
              group("linux") {
                withLinux()
              }
              group("mingw") {
                withMingw()
              }
              group("macos") {
                withMacos()
              }
            }
            group("multithreaded") {
              group("jvmAndroid")
              group("native") {
                withNative()
              }
            }
            group("wasm") {
              withWasmJs()
              withWasmWasi()
            }
          }
        }
