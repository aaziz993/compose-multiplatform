script:
  - kotlin:
      applyDefaultHierarchyTemplate: |
        {
          common {
            group("jvmCommon") {
              withJvm()
              withAndroidTarget()
            }
            group("jvmCommonIos") {
              group("jvmCommon")
              withIos()
            }
            group("jvmIosWeb") {
              withJvm()
              withIos()
              group("web")
            }
            group("jvmWeb") {
              withJvm()
              group("web")
            }
            group("androidIos") {
              withAndroidTarget()
              withIos()
            }
            group("androidIosWeb") {
              group("androidIos")
              group("web")
            }
            group("androidNative32") {
              withAndroidNativeArm32()
              withAndroidNativeX86()
            }
            group("androidNative64") {
              withAndroidNativeX64()
              withAndroidNativeArm64()
            }
            group("androidNative") {
              group("androidNative32")
              group("androidNative64")
            }
            group("apple32") {
              withWatchosArm32()
              withWatchosArm64()  // NB watchosArm64 is weird target w/ 32-bit numbers.
            }
            group("apple64") {
              withIos()
              withMacos()
              withTvos()
              withWatchosX64()
              withWatchosDeviceArm64()
              withWatchosSimulatorArm64()
            }
            group("apple") {
              group("apple32")
              group("apple64")
            }
            group("nonIos") {
              group("jvmCommon")
              group("web")
            }
            group("nix") {
              withLinux()
              withApple()
              withAndroidNative()
            }
            group("posix") {
              withMingw()
              group("nix")
            }
            group("nativeNonApple") {
              withAndroidNative()
              withMingw()
              withLinux()
            }
            group("nativeNonAndroid") {
              withApple()
              withMingw()
              withLinux()
            }
            group("native") {
              withNative()
            }
            group("desktop") {
              withLinux()
              withMingw()
              withMacos()
            }
            group("multithreaded") {
              group("jvmCommon")
              withNative()
            }
            group("wasm") {
              withWasmJs()
              withWasmWasi()
            }
          }
        }
