config:
  imports:
    - org.jetbrains.kotlin.gradle.targets.js.dsl.KotlinJsTargetDsl
    - org.jetbrains.kotlin.gradle.targets.js.webpack.KotlinWebpackConfig
script:
  - plugins:
      - id: (libs.plugins("js.plain.objects").pluginId)
      - id: (libs.plugins("seskar").pluginId)
  - kotlin:
      js: |
        (kotlin.IR) {
          browser()
          nodejs()
        }
      targets:
        - withType<KotlinJsTargetDsl>: |
            {
              compilerOptions {
                optIn.addAll(
                  "kotlin.js.ExperimentalJsExport",
                )
              }
            }
      sourceSets:
        - named: |
            ("jsMain") { sourceSet ->
              sourceSet.dependencies {
                implementation(libs("kotlinWrappers")["js"])
                implementation(libs["worldwind"])
              }
            }
