config:
  imports:
    - org.gradle.api.tasks.JavaExec
imports:
  - jvm.yaml
script:
  - plugins:
      id: (libs.plugins("ktor").pluginId)
  - kotlin:
      targets:
        - withType<KotlinJvmTarget>: |
            {
              binaries {
                executable {
                  mainClass /= "ApplicationKt"
                }
              }
            }
      sourceSets:
        - named: |
            ("jvmMain") { sourceSet ->
              sourceSet.dependencies {
                implementation(libs.bundles("arrow.suspendapp"))
              }
            }
  - tasks.withType<JavaExec>: |
      {
        systemProperty("io.ktor.development", "true")
      }
