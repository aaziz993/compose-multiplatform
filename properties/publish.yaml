script:
  # publishing
  - publishing:
      repositories:
        - mavenLocal:
            url: '"build/m2"'
        # Something that's easy to "clean" for development not mavenLocal
        - maven:
            name: '"buildRepo"'
            url: '"../build/repo"' # root build/repo
        - maven:
            name: '"GithubPackages"'
            url: '"https://maven.pkg.github.com/aaziz993"'
            credentials:
              username: sensitive("username")
              password: sensitive("password")
        - maven:
            name: '"SpacePackages"'
            url: '"https://maven.pkg.jetbrains.space/aaziz93/p/aaziz-93/maven"'
            credentials:
              username: sensitive("username")
              password: sensitive("password")
        - maven:
            name: '"Sonatype"'
            url: '"https://oss.sonatype.org"'
            credentials:
              username: sensitive("username")
              password: sensitive("password")
        - maven:
            name: '"SonatypeS01"'
            url: '"https://s01.oss.sonatype.org"'
            credentials:
              username: sensitive("username")
              password: sensitive("password")
        - maven:
            name: '"SonatypeCentral"'
            url: '"https://central.sonatype.com"'
            credentials:
              username: sensitive("username")
              password: sensitive("password")
        - maven:
            name: '"SonatypeStaging"'
            url: '"https://oss.sonatype.org/service/local/staging/deploy/maven2"'
            credentials:
              username: sensitive("username")
              password: sensitive("password")
      publications:
        - create<MavenPublication>: |
            ("maven") {
              pom {
                  description /= project.description
                  groupId = project.group.toString()
                  version = project.version.toString()

                  licenses {
                      license {
                          name /= settings.settingsProperties.license.name
                          url /= settings.settingsProperties.license.url
                          distribution /= settings.settingsProperties.license.distribution
                          comments /= settings.settingsProperties.license.comments
                      }
                  }

                  developers {
                      developer {
                          id /= settings.settingsProperties.developer.id
                          name /= settings.settingsProperties.developer.name
                          email /= settings.settingsProperties.developer.email
                          organization /= settings.settingsProperties.developer.organization
                          organizationUrl /= settings.settingsProperties.developer.organizationUrl
                      }
                  }

                  issueManagement {
                      system /= "GitHub Issues"
                      url /= "https://github.com/aaziz993/compose-multiplatform/issues"
                  }
                  scm {
                      url /= settings.settingsProperties.remote.url
                      connection /= settings.settingsProperties.remote.connection
                      developerConnection /= settings.settingsProperties.remote.developerConnection
                      tag /= settings.settingsProperties.remote.tag
                  }
              }

              // Signing.
              signing {
                  useGpgCmd()
                  useInMemoryPgpKeys(
                      sensitive("signing.gnupg.key.id"),
                      sensitive("signing.gnupg.key"),
                      sensitive("signing.gnupg.key.passphrase")
                  )

                  // Sign all publications.
                  sign(publishing.publications)
              }
            }




