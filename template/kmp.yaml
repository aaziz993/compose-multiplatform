kotlin:
  targets:
   - jvm
   - android
   - jvmAndAndroid:
       compilerOptions:
         freeCompilerArgs:
           - -Xjvm-default=all
   - iosArm64
   - iosX64
   - iosSimulatorArm64
   - native:
       compilerOptions:
         freeCompilerArgs:
           - -Xexport-kdoc
           - -Xallocator=custom
           - -XXLanguage+ImplicitSignedToUnsignedIntegerConversion
           - -Xadd-light-debug=enable
         optIns:
           - kotlin.experimental.ExperimentalObjCName
           - kotlinx.cinterop.ExperimentalForeignApi
           - kotlinx.cinterop.BetaInteropApi
       binaries:
         framework:
           # add it to avoid sqllite3 issues in iOS. Required when using NativeSQLiteDriver
           linkerOpts:
             - -lsqlite3
   - js
   - wasmJs
   - jsAndWasmJs:
      compilerOptions:
        optIns:
          - kotlin.js.ExperimentalJsExport
      browser:
        testTask:
          karma:
            configDirectory: ../gradle/js/karma.config.d
            useChromeHeadless: true
      nodejs:
        testTask:
          mocha:
            timeout: 600s
