kotlin:
  targets:
    - jvm
    # apply to all above jvm targets by providing empty name
    - jvm:
        name: ''
        withJava: true

application:
  mainClass: ApplicationKt
  applicationDefaultJvmArgs:
    - -Dio.ktor.development=true

dependencies:
  - kotlin: stdlib

tasks:
  - KotlinJvmTest:
    maxHeapSize: "2g"
    excludes: [ '**/*StressTest*' ]
    useJUnitPlatform: true
    filter:
      failOnNoMatchingTests: false
    testLogging:
      showExceptions: true
      showStandardStreams: true
      events: [ FAILED, PASSED ]
      exceptionFormat: FULL
