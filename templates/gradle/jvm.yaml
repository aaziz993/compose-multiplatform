kotlin:
  targets:
    - jvm
    # apply to all above jvm targets by providing empty name
    - jvm:
        name: ''
        compilerOptions:
          freeCompilerArgs:
            - -Xno-param-assertions
            - -Xno-call-assertions
            - -Xno-receiver-assertions
        withJava: true # enable *.java support

application:
  mainClass: ApplicationKt
  applicationDefaultJvmArgs:
    - -Dio.ktor.development=true

dependencies:
  - kotlin: stdlib

tasks:
  - KotlinJvmTest:
      maxHeapSize: "2g"
      useJUnitPlatform: true
      filter:
        failOnNoMatchingTests: false
      testLogging:
        showExceptions: true
        showStandardStreams: true
        events: [ FAILED, PASSED ]
        exceptionFormat: FULL
